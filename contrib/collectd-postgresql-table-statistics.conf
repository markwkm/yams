<Plugin postgresql>
	<Query stat_table>
    	Statement "SELECT a.schemaname, a.relname, seq_scan, seq_tup_read,
       COALESCE(idx_scan, 0) AS idx_scan,
       COALESCE(idx_tup_fetch, 0) AS idx_tup_fetch, n_tup_ins, n_tup_upd,
       n_tup_del, n_tup_hot_upd, n_live_tup, n_dead_tup, heap_blks_read,
       heap_blks_hit, COALESCE(idx_blks_read, 0) AS idx_blks_read,
       COALESCE(idx_blks_hit, 0) AS idx_blks_hit,
       COALESCE(toast_blks_read, 0) AS toast_blks_read,
       COALESCE(toast_blks_hit, 0) AS toast_blks_hit,
       COALESCE(tidx_blks_read, 0) AS tidx_blks_read,
       COALESCE(tidx_blks_hit, 0) AS tidx_blks_hit
FROM pg_statio_all_tables a, pg_stat_all_tables b
WHERE a.relid = b.relid;"

    	<Result>
        	Type counter
        	InstancePrefix "seq_scan"
        	InstancesFrom "schemaname" "relname"
        	ValuesFrom "seq_scan"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "seq_tup_read"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "seq_tup_read"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "idx_scan"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "idx_scan"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "idx_tup_fetch"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "idx_tup_fetch"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "n_tup_ins"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "n_tup_ins"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "n_tup_upd"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "n_tup_upd"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "n_tup_del"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "n_tup_del"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "n_tup_hot_upd"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "n_tup_hot_upd"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "n_live_tup"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "n_live_tup"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "n_dead_tup"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "n_dead_tup"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "heap_blks_read"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "heap_blks_read"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "heap_blks_hit"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "heap_blks_hit"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "idx_blks_read"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "idx_blks_read"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "idx_blks_hit"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "idx_blks_hit"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "toast_blks_read"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "toast_blks_read"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "toast_blks_hit"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "toast_blks_hit"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "tidx_blks_read"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "tidx_blks_read"
    	</Result>
    	<Result>
        	Type counter
        	InstancePrefix "tidx_blks_hit"
        	InstancesFrom "relname" "schemaname"
        	ValuesFrom "tidx_blks_hit"
    	</Result>
	</Query>

	<Database pgdatabase>
		Host "pghost"
		User "pguser"
		Query stat_table
	    SchemanameColumn 0
	    TablenameColumn 1
	</Database>
</Plugin>
